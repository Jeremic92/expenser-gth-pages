(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(13),r=a.n(o),s=(a(19),a(9)),c=a(7),i=a(1),u=a(2),p=a(4),h=a(3),d=a(5),m=(a(20),a(12),a(8),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getSelectedValue=function(){return localStorage.getItem("options")&&JSON.parse(localStorage.getItem("options"))[0].value||""},a.handleChange=function(e){a.props.onChange(e.target.value);var t=a.state.options.find(function(t){return t.value===e.target.value});a.setState({selected:t.value})},a.getNewOption=function(e){a.setState({newOption:e.target.value})},a.addOption=function(){var e=Object.assign({},{displayValue:a.state.newOption,value:a.state.newOption});a.props.updateOptions(e),a.setState({newOption:""})},a.state={id:Math.floor(1e3*Math.random()),selected:a.props.value||a.getSelectedValue(),newOption:"",options:a.props.options},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({selected:e.value,options:e.options})}},{key:"render",value:function(){var e=this.props.isDisabled,t=this.props.isInEditMode;return l.a.createElement(l.a.Fragment,null," ",t?l.a.createElement("div",null,l.a.createElement("label",{htmlFor:this.state.id},this.props.label),l.a.createElement("select",{className:"input",id:this.state.id,onChange:this.handleChange,disabled:e,value:this.state.selected},this.state.options.map(function(e,t){return l.a.createElement("option",{value:e.value,key:t},e.displayValue)}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("label",{htmlFor:this.state.id},this.props.label),l.a.createElement("select",{id:this.state.id,className:"input",onChange:this.handleChange,disabled:e,value:this.state.selected},this.state.options.map(function(e,t){return l.a.createElement("option",{value:e.value,key:t},e.displayValue)}))),l.a.createElement("div",null,l.a.createElement("label",null,"Add a category"),l.a.createElement("input",{type:"text",placeholder:"Enter new category",className:"input",value:this.state.newOption,onChange:this.getNewOption}),l.a.createElement("button",{type:"button",className:"button button--category",onClick:this.addOption},"Add a category"))))}}]),t}(l.a.Component)),f=function(){return Math.floor(1e3*Math.random())},g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){a.props.onChange(e.target.value),a.setState({value:e.target.value})},a.state={value:a.props.value||""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.placeholder,o=e.required,r=f();return l.a.createElement("div",null,l.a.createElement("label",{htmlFor:r},a),l.a.createElement("input",{type:"number",required:o,placeholder:n,value:this.state.value,onChange:this.onChange,id:r,name:t,className:"input"}))}}]),t}(l.a.Component),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){a.props.onChange(e.target.value),a.setState({value:e.target.value})},a.state={value:a.props.value||""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.placeholder,o=e.required,r=f();return l.a.createElement("div",null,l.a.createElement("label",{htmlFor:r},a),l.a.createElement("input",{type:"text",placeholder:n,required:o,value:this.state.value,onChange:this.onChange,id:r,name:t,className:"input"}))}}]),t}(l.a.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){a.props.onChange(e.target.value),a.setState({value:e.target.value})},a.state={value:a.props.value||""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.required,o=f();return l.a.createElement("div",null,l.a.createElement("label",{htmlFor:o},a),l.a.createElement("input",{type:"date",required:n,value:this.state.value,onChange:this.onChange,id:o,name:t,className:"input"}))}}]),t}(l.a.Component),y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f();Object(i.a)(this,e),this.amount=t,this.name=a,this.date=n,this.category=l,this.id=o},b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).addExpense=function(e){if(e.preventDefault(),a.state.category){var t=new y(Number(a.state.amount),a.state.name,a.state.date,a.state.category);a.props.addExpense(t),a.clearInputs()}else alert("Add category")},a.clearInputs=function(){a.setState({amount:"",name:"",date:"",category:""})},a.updateForm=function(e,t){a.setState(Object(c.a)({},e,t))},a.handleUpdateOptions=function(e){a.props.updateOptions(e)},a.state={amount:"",name:"",date:"",category:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("section",{className:"add-form-section"},l.a.createElement("h2",{className:"heading"},"Expenser app"),l.a.createElement("h3",{className:"heading heading--tertiary"},"Find the magic hole where all your money goes to!"),l.a.createElement("form",{onSubmit:this.addExpense,className:"form"},l.a.createElement(g,{name:"amount",label:"Expense amount",required:!0,value:this.state.amount,placeholder:"10$",onChange:function(t){return e.updateForm("amount",t)}}),l.a.createElement(E,{label:"Name of the product",name:"name",required:!0,value:this.state.name,placeholder:"T-shirt",onChange:function(t){return e.updateForm("name",t)}}),l.a.createElement(v,{label:"Date of the purchase",name:"date",required:!0,value:this.state.date,placeholder:"Enter the date",onChange:function(t){return e.updateForm("date",t)}}),l.a.createElement(m,{options:this.props.options,updateOptions:this.handleUpdateOptions,label:"Category of the expense",name:"category",required:!0,value:this.state.category,onChange:function(t){return e.updateForm("category",t)}}),l.a.createElement("div",null,l.a.createElement("button",{className:"button button--expense"},"Add"))))}}]),t}(l.a.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCancel=function(){a.setState({isInEditMode:!1,updatedExpense:a.state.expense})},a.handleSave=function(e){e.preventDefault(),a.setState({isInEditMode:!1,expense:a.state.updatedExpense},function(){return a.props.updateExpense(a.state.expense)})},a.handleEdit=function(e){e.preventDefault(),a.setState({isInEditMode:!0})},a.handleDelete=function(){a.props.deleteExpense(a.state.expense.id)},a.updateExpense=function(e,t){a.setState({updatedExpense:Object.assign({},a.state.updatedExpense,Object(c.a)({},e,t))})},a.state={isInEditMode:!1,expense:a.props.expense,updatedExpense:a.props.expense},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({expense:e.expense})}},{key:"render",value:function(){var e=this;return l.a.createElement("li",{className:"expense-list__item"},this.state.isInEditMode?l.a.createElement("form",{onSubmit:this.handleSave,className:"form"},l.a.createElement(g,{name:"amount",label:"Expense amount",required:!0,value:this.state.updatedExpense.amount,placeholder:"Expense amount",onChange:function(t){return e.updateExpense("amount",+t)}}),l.a.createElement(E,{label:"Name of the product",name:"name",required:!0,value:this.state.updatedExpense.name,placeholder:"Name of the product",onChange:function(t){return e.updateExpense("name",t)}}),l.a.createElement(v,{label:"Date of the purchase",name:"date",required:!0,value:this.state.updatedExpense.date,placeholder:"Enter the date",onChange:function(t){return e.updateExpense("date",t)}}),l.a.createElement(m,{options:this.props.options,label:"Category",name:"category",required:!0,value:this.state.updatedExpense.category,isInEditMode:this.state.isInEditMode,onChange:function(t){return e.updateExpense("category",t)}}),l.a.createElement("div",{className:"buttons-container"},l.a.createElement("button",{className:"button button--expense button--expense-update"},"Save"),l.a.createElement("button",{className:"button button--delete",type:"button",onClick:this.handleCancel},"Cancel"))):l.a.createElement("form",{onSubmit:this.handleEdit},l.a.createElement("span",null,"Amount: ",this.state.expense.amount),l.a.createElement("br",null),l.a.createElement("span",null,"Name: ",this.state.expense.name),l.a.createElement("br",null),l.a.createElement("span",null,"Date: ",this.state.expense.date),l.a.createElement("br",null),l.a.createElement("span",null,"Category: ",this.state.expense.category),l.a.createElement("br",null),l.a.createElement("div",{className:"buttons-container"},l.a.createElement("button",{className:"button button--edit"},"Edit"),l.a.createElement("button",{className:"button button--delete",type:"button",onClick:this.handleDelete},"Delete"))))}}]),t}(l.a.Component),O=a(6),k=a.n(O),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={value:"",expenses:e.expenses,expensesPerDayOfTheWeek:[{dayOfTheWeek:0,name:"",total:0,percentage:0},{dayOfTheWeek:1,name:"",total:0,percentage:0},{dayOfTheWeek:2,name:"",total:0,percentage:0},{dayOfTheWeek:3,name:"",total:0,percentage:0},{dayOfTheWeek:4,name:"",total:0,percentage:0},{dayOfTheWeek:5,name:"",total:0,percentage:0},{dayOfTheWeek:6,name:"",total:0,percentage:0}],expensesPerMonth:[{month:"January",total:0,percentage:0,index:0},{month:"February",total:0,percentage:0,index:1},{month:"March",total:0,percentage:0,index:2},{month:"April",total:0,percentage:0,index:3},{month:"May",total:0,percentage:0,index:4},{month:"June",total:0,percentage:0,index:5},{month:"July",total:0,percentage:0,index:6},{month:"August",total:0,percentage:0,index:7},{month:"September",total:0,percentage:0,index:8},{month:"October",total:0,percentage:0,index:9},{month:"November",total:0,percentage:0,index:10},{month:"December",total:0,percentage:0,index:11}],expensesPerCategory:a.props.options.filter(function(e){return e.value}).map(function(e){return Object.assign({},{category:e.value,total:0,percentage:0})})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setValues(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setValues(e)}},{key:"setDayOfTheWeekValues",value:function(e){var t=this;this.setState({expenses:e.expenses,expensesPerDayOfTheWeek:[{dayOfTheWeek:0,name:"",total:0,percentage:0},{dayOfTheWeek:1,name:"",total:0,percentage:0},{dayOfTheWeek:2,name:"",total:0,percentage:0},{dayOfTheWeek:3,name:"",total:0,percentage:0},{dayOfTheWeek:4,name:"",total:0,percentage:0},{dayOfTheWeek:5,name:"",total:0,percentage:0},{dayOfTheWeek:6,name:"",total:0,percentage:0}],expensesPerMonth:[{month:"January",total:0,percentage:0,index:0},{month:"February",total:0,percentage:0,index:1},{month:"March",total:0,percentage:0,index:2},{month:"April",total:0,percentage:0,index:3},{month:"May",total:0,percentage:0,index:4},{month:"June",total:0,percentage:0,index:5},{month:"July",total:0,percentage:0,index:6},{month:"August",total:0,percentage:0,index:7},{month:"September",total:0,percentage:0,index:8},{month:"October",total:0,percentage:0,index:9},{month:"November",total:0,percentage:0,index:10},{month:"December",total:0,percentage:0,index:11}],expensesPerCategory:e.options.filter(function(e){return e.value}).map(function(e){return Object.assign({},{category:e.value,total:0,percentage:0})})},function(){return t.dayOfTheWeekCallback()})}},{key:"dayOfTheWeekCallback",value:function(){var e=this.state.expensesPerDayOfTheWeek.map(function(e){return k.a.clone(e)}),t=this.state.expenses.map(function(e){return e.amount}).reduce(function(e,t){return+e+t},0);this.state.expenses.forEach(function(a){var n=new Date(a.date).getDay()?new Date(a.date).getDay()-1:6;e[n].total+=+a.amount,e[n].percentage=(e[n].total/t*100).toFixed(2)}),this.setState({expensesPerDayOfTheWeek:e})}},{key:"setExpensePerMonthValues",value:function(e){var t=this;this.setState({expenses:e.expenses},function(){return t.expensePerMonthCallback()})}},{key:"expensePerMonthCallback",value:function(){var e=this.state.expensesPerMonth.map(function(e){return k.a.clone(e)}),t=this.state.expenses.map(function(e){return e.amount}).reduce(function(e,t){return+e+t},0);this.state.expenses.forEach(function(t){var a=new Date(t.date).getMonth();e[a].total+=+t.amount}),this.state.expenses.forEach(function(a){var n=new Date(a.date).getMonth();e[n].percentage=(+e[n].total/+t*100).toFixed(2)}),this.setState({expensesPerMonth:e})}},{key:"setExpensePerCategoryValues",value:function(e){var t=this;this.setState({expenses:e.expenses},function(){return t.expensePerCategoryCallback()})}},{key:"expensePerCategoryCallback",value:function(){var e=this.state.expensesPerCategory.map(function(e){return k.a.clone(e)}),t=this.state.expenses.map(function(e){return e.amount}).reduce(function(e,t){return+e+t},0);this.state.expenses.forEach(function(a){e.forEach(function(e){e.category===a.category&&(e.total+=+a.amount)}),e.forEach(function(e){e.percentage=(+e.total/t*100).toFixed(2)})}),this.setState({expensesPerCategory:e})}},{key:"setValues",value:function(e){this.setDayOfTheWeekValues(e),this.setExpensePerMonthValues(e),this.setExpensePerCategoryValues(e)}},{key:"render",value:function(){return l.a.createElement("section",{className:"stats"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Months"),l.a.createElement("th",null,"January"),l.a.createElement("th",null,"February"),l.a.createElement("th",null,"March"),l.a.createElement("th",null,"April"),l.a.createElement("th",null,"May"),l.a.createElement("th",null,"June"),l.a.createElement("th",null,"July"),l.a.createElement("th",null,"August"),l.a.createElement("th",null,"September"),l.a.createElement("th",null,"October"),l.a.createElement("th",null,"November"),l.a.createElement("th",null,"December"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Total"),this.state.expensesPerMonth.map(function(e,t){return l.a.createElement("td",{key:t},e.total)})),l.a.createElement("tr",null,l.a.createElement("td",null,"Percentage"),this.state.expensesPerMonth.map(function(e,t){return l.a.createElement("td",{key:t},e.percentage," %")})))),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Days"),l.a.createElement("th",null,"Monday"),l.a.createElement("th",null,"Tuesday"),l.a.createElement("th",null,"Wednesday"),l.a.createElement("th",null,"Thursday"),l.a.createElement("th",null,"Friday"),l.a.createElement("th",null,"Saturday"),l.a.createElement("th",null,"Sunday"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Total"),this.state.expensesPerDayOfTheWeek.map(function(e,t){return l.a.createElement("td",{key:t},e.total)})),l.a.createElement("tr",null,l.a.createElement("td",null,"Percentage"),this.state.expensesPerDayOfTheWeek.map(function(e,t){return l.a.createElement("td",{key:t},e.percentage," %")})))),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Categories"),this.state.expensesPerCategory.map(function(e,t){return l.a.createElement("th",{key:t},e.category)}))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Total"),this.state.expensesPerCategory.map(function(e,t){return l.a.createElement("td",{key:t},e.total)})),l.a.createElement("tr",null,l.a.createElement("td",null,"Percentage"),this.state.expensesPerCategory.map(function(e,t){return l.a.createElement("td",{key:t},e.percentage," %")})))))}}]),t}(l.a.Component);a(22);var S=function(e){return l.a.createElement("section",{className:"expense-list"},e.expenses.length?l.a.createElement("h3",{className:"heading heading--tertiary"},"Your expenses:"):null,l.a.createElement("ul",{className:"expenses-list"},e.expenses.map(function(t,a){return l.a.createElement(x,{key:a,expense:t,updateExpense:e.updateExpense,deleteExpense:e.deleteExpense,options:e.options})})),e.expenses.length?l.a.createElement(C,{expenses:e.expenses,options:e.options}):null)},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){a.hydrateStateWithLocalStorage(),window.addEventListener("beforeunload",a.saveStateToLocalStorage)},a.componentWillUnmount=function(){window.removeEventListener("beforeunload",a.saveStateToLocalStorage),a.saveStateToLocalStorage()},a.hydrateStateWithLocalStorage=function(){for(var e in a.state)if(localStorage.hasOwnProperty(e)){var t=localStorage.getItem(e);try{t=JSON.parse(t),a.setState(Object(c.a)({},e,t))}catch(n){a.setState(Object(c.a)({},e,t))}}},a.saveStateToLocalStorage=function(){for(var e in a.state)localStorage.setItem(e,JSON.stringify(a.state[e]))},a.addExpense=function(e){a.setState({expenses:[].concat(Object(s.a)(a.state.expenses),[e])})},a.deleteExpense=function(e){var t=k.a.map(a.state.expenses,k.a.clone).filter(function(t){return t.id!==e});a.setState({expenses:t})},a.updateExpense=function(e){var t=k.a.map(a.state.expenses,k.a.clone).map(function(t){return t.id===e.id?e:t});a.setState({expenses:t})},a.updateOptions=function(e){a.setState({options:[].concat(Object(s.a)(a.state.options),[e])})},a.state={expenses:[],options:[{displayValue:"Please select a category",value:""},{displayValue:"Groceries",value:"groceries"},{displayValue:"Rent",value:"rent"},{displayValue:"Bills",value:"bills"},{displayValue:"Clothes",value:"clothes"},{displayValue:"Transportation",value:"transportation"},{displayValue:"Gift",value:"gift"}]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",Object(c.a)({className:"App"},"className",this.state.expenses.length?"App":"full-height"),l.a.createElement(b,{addExpense:this.addExpense,expenses:this.state.expenses,options:this.state.options,updateOptions:this.updateOptions}),l.a.createElement(S,{expenses:this.state.expenses,updateExpense:this.updateExpense,deleteExpense:this.deleteExpense,options:this.state.options}))}}]),t}(l.a.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(l.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");w?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):N(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):N(t,e)})}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.ccdcd4aa.chunk.js.map